{
  "info": {
    "name": "Suppliers.sa API",
    "_postman_id": "6d6013ef-ef93-4a8b-9688-3cb22fb9a37f",
    "description": "Postman collection covering Suppliers.sa backend endpoints aligned with the current frontend contracts.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "https://api.example.com/api" },
    { "key": "token", "value": "" },
    { "key": "supplierId", "value": "1" },
    { "key": "adminSupplierId", "value": "1" },
    { "key": "branchId", "value": "1" },
    { "key": "ratingId", "value": "1" },
    { "key": "documentId", "value": "1" },
    { "key": "reportId", "value": "1" },
    { "key": "inquiryId", "value": "1" }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"password\"\n}"
            },
            "url": "{{baseUrl}}/auth/login"
          }
        },
        {
          "name": "Send OTP",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"supplier@example.com\"\n}"
            },
            "url": "{{baseUrl}}/auth/send-otp"
          }
        },
        {
          "name": "Verify OTP",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"supplier@example.com\",\n  \"otp\": \"123456\"\n}"
            },
            "url": "{{baseUrl}}/auth/verify-otp"
          }
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"supplier@example.com\"\n}"
            },
            "url": "{{baseUrl}}/auth/forgot-password"
          }
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"supplier@example.com\",\n  \"otp\": \"123456\",\n  \"password\": \"new-password\",\n  \"password_confirmation\": \"new-password\"\n}"
            },
            "url": "{{baseUrl}}/auth/reset-password"
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{baseUrl}}/auth/logout"
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"current_password\": \"password\",\n  \"password\": \"new-password\",\n  \"password_confirmation\": \"new-password\"\n}"
            },
            "url": "{{baseUrl}}/auth/change-password"
          }
        }
      ]
    },
    {
      "name": "Public",
      "item": [
        { "name": "List Businesses", "request": { "method": "GET", "url": "{{baseUrl}}/public/businesses?keyword=electronics" } },
        { "name": "Business Details", "request": { "method": "GET", "url": "{{baseUrl}}/public/businesses/sample-slug" } },
        {
          "name": "Submit Public Review",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"score\": 5,\n  \"comment\": \"Great service!\",\n  \"name\": \"Visitor\",\n  \"email\": \"visitor@example.com\"\n}"
            },
            "url": "{{baseUrl}}/public/businesses/sample-slug/reviews"
          }
        },
        {
          "name": "Submit Inquiry",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Visitor\",\n  \"email\": \"visitor@example.com\",\n  \"phone\": \"+966500000000\",\n  \"company\": \"Guest LLC\",\n  \"subject\": \"Pricing\",\n  \"message\": \"Need pricing info.\"\n}"
            },
            "url": "{{baseUrl}}/public/businesses/sample-slug/inquiries"
          }
        },
        {
          "name": "Submit Content Report",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"businessSlug\": \"sample-slug\",\n  \"reportType\": \"profile\",\n  \"reason\": \"Inaccurate info\",\n  \"details\": \"Address needs update\",\n  \"name\": \"Visitor\",\n  \"email\": \"visitor@example.com\"\n}"
            },
            "url": "{{baseUrl}}/public/reports"
          }
        }
      ]
    },
    {
      "name": "Registration",
      "item": [
        {
          "name": "Supplier Registration",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"businessName\": \"Metro Electronics\",\n  \"email\": \"supplier@example.com\",\n  \"phone\": \"+966500000000\"\n}"
            },
            "url": "{{baseUrl}}/supplier/register"
          }
        },
        {
          "name": "Register Super Admin",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}", "description": "Only required after the first super admin exists." }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Super Admin\",\n  \"email\": \"super@example.com\",\n  \"password\": \"password\",\n  \"password_confirmation\": \"password\"\n}"
            },
            "url": "{{baseUrl}}/admins/register-super"
          }
        }
      ]
    },
    {
      "name": "Supplier",
      "item": [
        {
          "name": "Dashboard Overview",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/supplier/dashboard"
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"businessName\": \"Metro Electronics\",\n  \"businessType\": \"Supplier\",\n  \"categories\": [\"Electronics\", \"Technology\"],\n  \"services\": [\"Wholesale\", \"Repair\"],\n  \"description\": \"We provide electronics.\",\n  \"website\": \"https://metroelectronics.com\",\n  \"address\": \"Riyadh\",\n  \"serviceDistance\": 40,\n  \"contactPhone\": \"+966500000001\",\n  \"contactEmail\": \"contact@metroelectronics.com\"\n}"
            },
            "url": "{{baseUrl}}/supplier/profile"
          }
        },
        {
          "name": "Upload Profile Image",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "multipart/form-data" }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                { "key": "profile_image", "type": "file", "src": "" }
              ]
            },
            "url": "{{baseUrl}}/supplier/profile/image"
          }
        },
        {
          "name": "Submit Supplier Rating",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ratedSupplierId\": {{supplierId}},\n  \"score\": 4,\n  \"comment\": \"Excellent partner\"\n}"
            },
            "url": "{{baseUrl}}/supplier/ratings"
          }
        },
        {
          "name": "Documents - List",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/supplier/documents"
          }
        },
        {
          "name": "Documents - Upload",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "multipart/form-data" }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                { "key": "documentType", "value": "Commercial Registration", "type": "text" },
                { "key": "referenceNumber", "value": "CR-123456", "type": "text" },
                { "key": "issueDate", "value": "2024-01-01", "type": "text" },
                { "key": "expiryDate", "value": "2025-01-01", "type": "text" },
                { "key": "notes", "value": "Uploaded for verification", "type": "text" },
                { "key": "document", "type": "file", "src": "" }
              ]
            },
            "url": "{{baseUrl}}/supplier/documents"
          }
        },
        {
          "name": "Documents - Delete",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/supplier/documents/{{documentId}}"
          }
        },
        {
          "name": "Documents - Resubmit",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "multipart/form-data" }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                { "key": "notes", "value": "Updated document", "type": "text" },
                { "key": "document", "type": "file", "src": "" }
              ]
            },
            "url": "{{baseUrl}}/supplier/documents/{{documentId}}/resubmit"
          }
        },
        {
          "name": "Reports - List",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/supplier/reports?scope=received"
          }
        },
        {
          "name": "Reports - Create",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reportType\": \"rating\",\n  \"targetSupplierId\": {{supplierId}},\n  \"targetType\": \"rating\",\n  \"targetId\": {{ratingId}},\n  \"reason\": \"Spam review\",\n  \"details\": \"Contains inappropriate language.\"\n}"
            },
            "url": "{{baseUrl}}/supplier/reports"
          }
        },
        {
          "name": "Inquiries - List",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/supplier/inquiries?status=pending"
          }
        },
        {
          "name": "Inquiries - Reply",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Thanks for reaching out, we will contact you soon.\"\n}"
            },
            "url": "{{baseUrl}}/supplier/inquiries/{{inquiryId}}/reply"
          }
        },
        {
          "name": "Inquiries - Mark Read",
          "request": {
            "method": "POST",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/supplier/inquiries/{{inquiryId}}/mark-read"
          }
        },
        {
          "name": "Inquiries - Update Status",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"responded\"\n}"
            },
            "url": "{{baseUrl}}/supplier/inquiries/{{inquiryId}}/status"
          }
        }
      ]
    },
    {
      "name": "Branches",
      "item": [
        { "name": "List Branches", "request": { "method": "GET", "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }], "url": "{{baseUrl}}/branches" } },
        {
          "name": "Create Branch",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Main Branch\",\n  \"phone\": \"+966500000002\",\n  \"email\": \"branch@metroelectronics.com\",\n  \"address\": \"Riyadh\",\n  \"manager\": \"Branch Manager\",\n  \"location\": {\"lat\": 24.7136, \"lng\": 46.6753},\n  \"workingHours\": {\n    \"monday\": {\"open\": \"09:00\", \"close\": \"17:00\", \"closed\": false}\n  },\n  \"specialServices\": [],\n  \"status\": \"active\",\n  \"isMainBranch\": true\n}"
            },
            "url": "{{baseUrl}}/branches"
          }
        },
        {
          "name": "Update Branch",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Branch\",\n  \"status\": \"inactive\"\n}"
            },
            "url": "{{baseUrl}}/branches/{{branchId}}"
          }
        },
        {
          "name": "Delete Branch",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/branches/{{branchId}}"
          }
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Dashboard Overview",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/admin/dashboard"
          }
        },
        {
          "name": "Dashboard Analytics",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/admin/dashboard/analytics?range=30"
          }
        },
        {
          "name": "Content Overview",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/admin/content"
          }
        },
        {
          "name": "List Suppliers",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/admin/suppliers"
          }
        },
        {
          "name": "Show Supplier",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/admin/suppliers/{{adminSupplierId}}"
          }
        },
        {
          "name": "Update Supplier",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"plan\": \"Premium\",\n  \"status\": \"active\"\n}"
            },
            "url": "{{baseUrl}}/admin/suppliers/{{adminSupplierId}}"
          }
        },
        {
          "name": "Update Supplier Status",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"suspended\"\n}"
            },
            "url": "{{baseUrl}}/admin/suppliers/{{adminSupplierId}}/status"
          }
        },
        {
          "name": "Delete Supplier",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/admin/suppliers/{{adminSupplierId}}"
          }
        },
        {
          "name": "Ratings - List Pending",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/admin/ratings?status=pending_review"
          }
        },
        {
          "name": "Ratings - Approve",
          "request": {
            "method": "POST",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/admin/ratings/{{ratingId}}/approve"
          }
        },
        {
          "name": "Ratings - Reject",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Contains inappropriate language\"\n}"
            },
            "url": "{{baseUrl}}/admin/ratings/{{ratingId}}/reject"
          }
        },
        {
          "name": "Ratings - Flag",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Flagging for manual review\"\n}"
            },
            "url": "{{baseUrl}}/admin/ratings/{{ratingId}}/flag"
          }
        },
        {
          "name": "Ratings - Restore Status",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"pending_review\"\n}"
            },
            "url": "{{baseUrl}}/admin/ratings/{{ratingId}}/restore"
          }
        },
        {
          "name": "Documents - List",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/admin/documents?status=pending_verification"
          }
        },
        {
          "name": "Documents - Approve",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Verified successfully\"\n}"
            },
            "url": "{{baseUrl}}/admin/documents/{{documentId}}/approve"
          }
        },
        {
          "name": "Documents - Reject",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Document expired\"\n}"
            },
            "url": "{{baseUrl}}/admin/documents/{{documentId}}/reject"
          }
        },
        {
          "name": "Documents - Request Resubmission",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Please upload a clearer copy\"\n}"
            },
            "url": "{{baseUrl}}/admin/documents/{{documentId}}/request-resubmission"
          }
        },
        {
          "name": "Reports - List",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/admin/reports?status=pending"
          }
        },
        {
          "name": "Reports - Approve",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Action taken\"\n}"
            },
            "url": "{{baseUrl}}/admin/reports/{{reportId}}/approve"
          }
        },
        {
          "name": "Reports - Dismiss",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"No action required\"\n}"
            },
            "url": "{{baseUrl}}/admin/reports/{{reportId}}/dismiss"
          }
        },
        {
          "name": "Reports - Takedown",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Content removed\"\n}"
            },
            "url": "{{baseUrl}}/admin/reports/{{reportId}}/takedown"
          }
        },
        {
          "name": "Reports - Update Status",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"pending\",\n  \"notes\": \"Reset status for further review\"\n}"
            },
            "url": "{{baseUrl}}/admin/reports/{{reportId}}/status"
          }
        }
      ]
    }
  ]
}

